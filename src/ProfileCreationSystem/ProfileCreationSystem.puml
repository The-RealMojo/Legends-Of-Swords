@startuml

skinparam packageStyle rect

package "UI" {
    class LoginGUI {
        + displayLogin(): void
        + displayRegistration(): void
        + LoginSubmit(u: String, p: String): void
    }

    class DashboardGUI {
        + displayUserData(data: UserProfile): void
        + ModeSelect(mode: String): void
    }
}

package "Profile Logic" {
    class ProfileManager {
        - currentUser: UserProfile
        + createAccount(u: String, p: String): Boolean
        + fetchSavedData(userId: String): UserProfile
        + updateRankings(score: int): void
    }

    class AuthenticationManager {
        + validateCredentials(u: String, p: String): Boolean
        + hashPassword(p: String): String
    }
}

package "Data" {
    interface IUserRepository <<interface>> {
        + save(u: UserProfile): void
        + findByUsername(u: String): UserProfile
    }

    class SQLUserRepository {
        - db: DatabaseConnector
        + save(u: UserProfile): void
        + findByUsername(u: String): UserProfile
    }

    class DatabaseConnector {
        + executeQuery(sql: String): ResultSet
        + openConnection(): void
    }

    class UserProfile {
        - userId: String
        - username: String
        - passwordHash: String
        - rankings: int
        + getSavedParties(): List
    }

    class UserData {
        - campaignProgress: Object
        - lastLogin: Date
    }
}

' Relationships
LoginGUI ..> DashboardGUI : <<navigates>>
LoginGUI ..> AuthenticationManager : <<use>>
DashboardGUI ..> ProfileManager : <<use>>

ProfileManager ..> IUserRepository : <<use>>

IUserRepository <|.. SQLUserRepository : implements
SQLUserRepository --> DatabaseConnector : uses raw connection

UserProfile "1" *-- UserData : contains

@enduml